{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst apiKey = \"41921784-0571e350d6104826bc1422cb3\";\nconst searchForm = document.getElementById(\"search-form\");\nconst searchInput = document.getElementById(\"search-input\");\nconst loader = document.getElementById(\"loader\");\nconst gallery = document.getElementById(\"gallery\");\nlet lightbox;\n\nfunction showLoader() {\n  loader.style.display = \"block\";\n}\n\nfunction hideLoader() {\n  loader.style.display = \"none\";\n}\n\nfunction clearGallery() {\n  gallery.innerHTML = \"\";\n}\n\nfunction clearSearchInput() {\n  searchInput.value = \"\";\n}\n\nfunction initLightbox() {\n  lightbox = new SimpleLightbox(\".image-card a\");\n}\n\nfunction searchImages(searchTerm) {\n  const apiUrl = `https://pixabay.com/api/?key=${apiKey}&q=${encodeURIComponent(\n    searchTerm\n  )}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  showLoader();\n  clearGallery();\n  clearSearchInput();\n\n  fetch(apiUrl)\n    .then((response) => response.json())\n    .then((data) => {\n      hideLoader();\n      if (data.hits.length > 0) {\n        displayImages(data.hits);\n        lightbox.refresh();\n      } else {\n        showNoResultsMessage();\n      }\n    })\n    .catch((error) => {\n      console.error(\"Error fetching images:\", error);\n      hideLoader();\n      showErrorToast(\n        \"An error occurred while fetching images. Please try again.\"\n      );\n    });\n}\n\nfunction displayImages(images) {\n  images.forEach((image) => {\n    const imageCard = createImageCard(image);\n    gallery.appendChild(imageCard);\n  });\n}\n\nfunction createImageCard(image) {\n  const card = document.createElement(\"div\");\n  card.className = \"image-card\";\n  card.innerHTML = `\n    <a href=\"${image.largeImageURL}\" data-lightbox=\"gallery\">\n      <img src=\"${image.webformatURL}\" alt=\"${image.tags}\">\n    </a>\n    <div class=\"image-details\">\n      <p>Likes: ${image.likes}</p>\n      <p>Views: ${image.views}</p>\n      <p>Comments: ${image.comments}</p>\n      <p>Downloads: ${image.downloads}</p>\n    </div>\n  `;\n  return card;\n}\n\nfunction showNoResultsMessage() {\n  iziToast.info({\n    title: \"No Results\",\n    message: \"Sorry, there are no images matching your search query. Please try again!\",\n  });\n}\n\nfunction showErrorToast(message) {\n  iziToast.error({\n    title: \"Error\",\n    message: message,\n  });\n}\n\nsearchForm.addEventListener(\"submit\", function (e) {\n  e.preventDefault();\n  const searchTerm = searchInput.value.trim();\n  if (searchTerm !== \"\") {\n    searchImages(searchTerm);\n  }\n});\n\ndocument.addEventListener(\"DOMContentLoaded\", initLightbox);\n"],"names":["apiKey","searchForm","searchInput","loader","gallery","lightbox","showLoader","hideLoader","clearGallery","clearSearchInput","initLightbox","SimpleLightbox","searchImages","searchTerm","apiUrl","response","data","displayImages","showNoResultsMessage","error","showErrorToast","images","image","imageCard","createImageCard","card","iziToast","message"],"mappings":"6vBAKA,MAAMA,EAAS,qCACTC,EAAa,SAAS,eAAe,aAAa,EAClDC,EAAc,SAAS,eAAe,cAAc,EACpDC,EAAS,SAAS,eAAe,QAAQ,EACzCC,EAAU,SAAS,eAAe,SAAS,EACjD,IAAIC,EAEJ,SAASC,GAAa,CACpBH,EAAO,MAAM,QAAU,OACzB,CAEA,SAASI,GAAa,CACpBJ,EAAO,MAAM,QAAU,MACzB,CAEA,SAASK,GAAe,CACtBJ,EAAQ,UAAY,EACtB,CAEA,SAASK,GAAmB,CAC1BP,EAAY,MAAQ,EACtB,CAEA,SAASQ,GAAe,CACtBL,EAAW,IAAIM,EAAe,eAAe,CAC/C,CAEA,SAASC,EAAaC,EAAY,CAChC,MAAMC,EAAS,gCAAgCd,OAAY,mBACzDa,CACD,4DAEDP,IACAE,IACAC,IAEA,MAAMK,CAAM,EACT,KAAMC,GAAaA,EAAS,KAAI,CAAE,EAClC,KAAMC,GAAS,CACdT,IACIS,EAAK,KAAK,OAAS,GACrBC,EAAcD,EAAK,IAAI,EACvBX,EAAS,QAAO,GAEhBa,GAER,CAAK,EACA,MAAOC,GAAU,CAChB,QAAQ,MAAM,yBAA0BA,CAAK,EAC7CZ,IACAa,EACE,4DACR,CACA,CAAK,CACL,CAEA,SAASH,EAAcI,EAAQ,CAC7BA,EAAO,QAASC,GAAU,CACxB,MAAMC,EAAYC,EAAgBF,CAAK,EACvClB,EAAQ,YAAYmB,CAAS,CACjC,CAAG,CACH,CAEA,SAASC,EAAgBF,EAAO,CAC9B,MAAMG,EAAO,SAAS,cAAc,KAAK,EACzC,OAAAA,EAAK,UAAY,aACjBA,EAAK,UAAY;AAAA,eACJH,EAAM;AAAA,kBACHA,EAAM,sBAAsBA,EAAM;AAAA;AAAA;AAAA,kBAGlCA,EAAM;AAAA,kBACNA,EAAM;AAAA,qBACHA,EAAM;AAAA,sBACLA,EAAM;AAAA;AAAA,IAGnBG,CACT,CAEA,SAASP,GAAuB,CAC9BQ,EAAS,KAAK,CACZ,MAAO,aACP,QAAS,0EACb,CAAG,CACH,CAEA,SAASN,EAAeO,EAAS,CAC/BD,EAAS,MAAM,CACb,MAAO,QACP,QAASC,CACb,CAAG,CACH,CAEA1B,EAAW,iBAAiB,SAAU,SAAU,EAAG,CACjD,EAAE,eAAc,EAChB,MAAMY,EAAaX,EAAY,MAAM,KAAI,EACrCW,IAAe,IACjBD,EAAaC,CAAU,CAE3B,CAAC,EAED,SAAS,iBAAiB,mBAAoBH,CAAY"}